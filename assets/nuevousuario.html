<!DOCTYPE html>
<html lang="es">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Usuarios SIS Sune</title>
 <link rel="icon" href="./IMG/logosissune2.png" type="image/x-icon">
 <link rel="stylesheet" href="../CSS/nuevousuario_style.css">
</head>

<body>
 <!-- Barra de navegación -->
 <nav>
  <div class="logo">SIS Sune</div>
  <img class="logosis" src="./IMG/logosissune2.png" alt="Logotipo SIS Sune">
  <ul class="nav-links">
   <li><a href="../home.html">Inicio</a></li>
   <li><a href="./usuarios.html">Regresar</a></li>
  </ul>
</nav>

<!-- Encabezado de bienvenida -->
<header class="header">
 <h1>¡Regístrate como nuevo usuario SIS Sune!</h1>
 <p>Rellena el formulario SIS Sune de abajo</p>
 <img src="./IMG/logosissune2.png" alt="Logotipo SIS Sune">
<!-- <div class="usersbutton">
 <a href="./assets/registro.html" class="btn">¡Regístrate si no tienes usuario!</a>
 </div> -->
</header>

<!-- Formulario de Ingreso de Usuario y descripción mvs --> 
<section class="mission-vision-services"> 
    
<div class="user-login">
  <h2>Registro de Usuario</h2>
  <form action="#" method="post">
    <label for="userID">ID de Usuario (Cédula de Ciudadanía o Extranjería):</label>
    <input type="text" id="userID" name="userID" required>
    
    <label for="userPassword">Contraseña:</label>
    <input type="password" id="userPassword" name="userPassword" required>
    
    <label for="userType">Tipo de Usuario:</label>
    <select id="userType" name="userType" required onchange="toggleEPSField()">
      <option value="Agricultor(a)">Agricultor(a)</option>
      <option value="Agrónom@">Agrónom@</option>
      <option value="Biólog@">Biólog@</option>
      <option value="Productor(a) de semillas">Productor(a) de semillas</option>
    </select>
    
    <label for="fullName">Nombre Completo:</label>
    <input type="text" id="fullName" name="fullName" required>
    
    <label for="birthdate">Fecha de Nacimiento:</label>
    <input type="date" id="birthdate" name="birthdate" required>
    
    <label for="age">Edad:</label>
    <input type="number" id="age" name="age" required>
    
    <label for="phone">Teléfono:</label>
    <input type="tel" id="phone" name="phone" required>
    
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    
    <div id="epsField">
      <label for="eps">EPS:</label>
      <input type="text" id="eps" name="eps">
    </div>
    
    <button type="submit">Ingresar</button>
  </form>
</div>

<script>
  function toggleEPSField() {
    var userType = document.getElementById('userType').value;
    var epsField = document.getElementById('epsField');
    if (userType === 'Agricultor(a)') {
      epsField.style.display = 'none';
    } else {
      epsField.style.display = 'block';
    }
  }
  
  // Initialize the EPS field visibility on page load
  document.addEventListener('DOMContentLoaded', function() {
    toggleEPSField();
  });

function registerUser() { const userID = document.getElementById('userID').value; 
const userPassword = document.getElementById('userPassword').value; 
const userType = document.getElementById('userType').value; 
const fullName = document.getElementById('fullName').value; 
const birthdate = document.getElementById('birthdate').value; 
const age = document.getElementById('age').value; 
const phone = document.getElementById('phone').value;
const email = document.getElementById('email').value; 
const eps = document.getElementById('eps').value; 
const userData = { userID, userPassword, userType, fullName, birthdate, age, phone, 
email, eps: userType !== 'Agricultor(a)' ? eps : '' }; 

fetch('http://localhost:3000/register', { 
method: 'POST', 
headers: { 
'Content-Type': 'application/json' 
},

body: JSON.stringify(userData) 
}) 
.then(response => response.json()) 
.then(data => alert(data.message)) 
.catch(error => console.error('Error:', error)); 
} 

function loginUser() { 
const userID = document.getElementById('loginUserID').value; 
const userPassword = document.getElementById('loginUserPassword').value; 

fetch('http://localhost:3000/login', { 
method: 'POST', 
headers: { 
'Content-Type': 'application/json' 
}, 
body: JSON.stringify({ userID, userPassword }) 
}) 
.then(response => response.json()) 
.then(data => alert(data.message)) 
.catch(error => console.error('Error:', error)); 
} 
</script>

 <div class="mvs"> 
  <h2>Gracias por querer hacer parte de SIS Sune</h2> 
  <p>La confirmación de creación de su usuario SIS Sune como agricultor, agrónomo, biólogo o productor de semillas, llegará a su correo.</p> 
 </div> 
 <div><img src="./IMG/post-2.png" alt="Servicio"></div>
</section>

<!-- Pie de página -->
<footer>
<p>&copy; 2024 SIS Sume derechos reservados</p>
 <div class="social-links">
  <a href="https://wa.me/message/Q6QLO32DTIXOB1"><img src="./IMG/whatsapp.png" alt="WhatsApp">WhatsApp</>
  <a href="#"><img src="./IMG/gmail.png" alt="Gmail">Gmail</a>
  <a href="https://www.instagram.com/sissunecolombia?igsh=a2JldzNwMXg2eTZl"><img src="./IMG/instagram.png" alt="Instagram">Instagram</a>
  <a href="https://www.facebook.com/profile.php?id=61568368243077&mibextid=ZbWKwL"><img src="./IMG/facebook.png" alt="Meta">Meta</a>
  <a href="#"><img src="./IMG/twitter.png" alt="X">X</a>
 </div>
</footer>

</body>
</html>

